$(function(){function e(e){var u,a=$("#rotator-iframe"),s=$("#show-ajax-data-error-content"),o=$("#show-no-iframe-content");$.ajax(e,{success:function(e){if(a.attr("src",""),null!==e.data){o.hide(),s.hide();var n=$("#edit-faucet-link");if(u=e.data.url,t=e.data.slug,!0===Boolean(e.data.can_show_in_iframes))a.show(),o.hide(),a.attr("src",u);else{if(a.hide(),o.find("#faucet-link").attr("href",u),o.find("#faucet-link").attr("title",'View "'+e.data.name+'" faucet in a new window'),void 0!==n){var i=laroute.route("users.faucets.edit",{userSlug:r,faucetSlug:t});n.attr("href",i)}o.show()}var c=laroute.route("users.faucets.show",{userSlug:r,faucetSlug:t});$("#current").attr("href",c);var f=laroute.route("users.faucets",{userSlug:r});$("#list_of_faucets").attr("href",f)}else{a.hide(),o.hide();var l=$("#error-code"),d=$("#error-message"),v=$("#sentry-id");void 0!==l&&void 0!==d&&void 0!==v&&(l.text(jqXHR.responseJSON.code),d.text(jqXHR.responseJSON.message),v.text(jqXHR.responseJSON.sentryID),s.show())}},error:function(e,t,r){if(void 0!==e.responseJSON.status&&"error"===e.responseJSON.status){a.hide(),o.hide();var u=$("#error-code"),n=$("#error-message"),i=$("#sentry-id");void 0!==u&&void 0!==n&&void 0!==i&&(u.text(e.responseJSON.code),n.text(e.responseJSON.message),i.text(e.responseJSON.sentryID),s.show())}}})}var t,r;r=$("#title").data("user-slug"),e(laroute.route("user.first-faucet",{userSlug:r})),$("#first_faucet").click(function(t){t.preventDefault(),e(laroute.route("user.first-faucet",{userSlug:r}))}),$("#next_faucet").click(function(u){u.preventDefault(),e(laroute.route("user.next-faucet",{userSlug:r,faucetSlug:t}))}),$("#previous_faucet").click(function(u){u.preventDefault(),e(laroute.route("user.previous-faucet",{userSlug:r,faucetSlug:t}))}),$("#last_faucet").click(function(t){t.preventDefault(),e(laroute.route("user.last-faucet",{userSlug:r}))}),$("#reload_current").click(function(u){u.preventDefault(),e(laroute.route("user.faucet",{userSlug:r,faucetSlug:t}))}),$("#random").click(function(t){t.preventDefault(),e(laroute.route("user.random-faucet",{userSlug:r}))})});