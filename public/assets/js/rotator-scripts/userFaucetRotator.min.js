$(function(){var f,l;function t(e){var o,i=$("#rotator-iframe"),n=$("#show-ajax-data-error-content"),c=$("#show-no-iframe-content");$.ajax(e,{success:function(e){if(i.attr("src",""),null!==e.data){c.hide(),n.hide();var t=$("#edit-faucet-link");if(o=e.data.url,f=e.data.slug,!0===Boolean(e.data.can_show_in_iframes))i.show(),c.hide(),i.attr("src",o);else{if(i.hide(),c.find("#faucet-link").attr("href",o),c.find("#faucet-link").attr("title",'View "'+e.data.name+'" faucet in a new window'),void 0!==t){var r=laroute.route("users.faucets.edit",{userSlug:l,faucetSlug:f});t.attr("href",r)}c.show()}var u=laroute.route("users.faucets.show",{userSlug:l,faucetSlug:f});$("#current").attr("href",u);var a=laroute.route("users.faucets",{userSlug:l});$("#list_of_faucets").attr("href",a)}else{i.hide(),c.hide();var s=$("#error-message");void 0!==s&&(s.text("This user does not have any faucets at this time."),n.show())}},error:function(e,t,r){if(void 0!==e.responseJSON.status&&"error"===e.responseJSON.status){i.hide(),c.hide();var u=$("#error-code"),a=$("#error-message"),s=$("#sentry-id");void 0!==u&&void 0!==a&&void 0!==s&&(u.text(e.responseJSON.code),a.text(e.responseJSON.message),s.text(e.responseJSON.sentryID),n.show())}}})}l=$("#title").data("user-slug"),t(laroute.route("user.first-faucet",{userSlug:l})),$("#first_faucet").click(function(e){e.preventDefault(),t(laroute.route("user.first-faucet",{userSlug:l}))}),$("#next_faucet").click(function(e){e.preventDefault(),t(laroute.route("user.next-faucet",{userSlug:l,faucetSlug:f}))}),$("#previous_faucet").click(function(e){e.preventDefault(),t(laroute.route("user.previous-faucet",{userSlug:l,faucetSlug:f}))}),$("#last_faucet").click(function(e){e.preventDefault(),t(laroute.route("user.last-faucet",{userSlug:l}))}),$("#reload_current").click(function(e){e.preventDefault(),t(laroute.route("user.faucet",{userSlug:l,faucetSlug:f}))}),$("#random").click(function(e){e.preventDefault(),t(laroute.route("user.random-faucet",{userSlug:l}))})});