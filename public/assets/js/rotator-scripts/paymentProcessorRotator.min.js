$(function(){function e(e){var r,a=$("#rotator-iframe"),o=$("#show-ajax-data-error-content"),s=$("#show-no-iframe-content");$.ajax(e,{success:function(e){a.attr("src",""),s.hide(),o.hide();var u=$("#edit-faucet-link");if(r=e.data.url,t=e.data.slug,!0===Boolean(e.data.can_show_in_iframes))a.show(),s.hide(),a.attr("src",r);else{if(a.hide(),s.find("#faucet-link").attr("href",r),s.find("#faucet-link").attr("title",'View "'+e.data.name+'" faucet in a new window'),void 0!==u){var n=laroute.route("faucets.edit",{slug:t});u.attr("href",n)}s.show()}var c=laroute.route("faucet.show",{slug:t});$("#current").attr("href",c)},error:function(e,t,r){if(void 0!==e.responseJSON.status&&"error"===e.responseJSON.status){a.hide(),s.hide();var u=$("#error-code"),n=$("#error-message"),c=$("#sentry-id");void 0!==u&&void 0!==n&&void 0!==c&&(u.text(e.responseJSON.code),n.text(e.responseJSON.message),c.text(e.responseJSON.sentryID),o.show())}}})}var t,r;r=$("#title").data("payment-processor-slug"),e(laroute.route("payment-processor.first-faucet",{paymentProcessorSlug:r})),$("#first_faucet").click(function(t){t.preventDefault(),e(laroute.route("payment-processor.first-faucet",{paymentProcessorSlug:r}))}),$("#next_faucet").click(function(a){a.preventDefault(),e(laroute.route("payment-processor.next-faucet",{paymentProcessorSlug:r,faucetSlug:t}))}),$("#previous_faucet").click(function(a){a.preventDefault(),e(laroute.route("payment-processor.previous-faucet",{paymentProcessorSlug:r,faucetSlug:t}))}),$("#last_faucet").click(function(t){t.preventDefault(),e(laroute.route("payment-processor.last-faucet",{paymentProcessorSlug:r}))}),$("#reload_current").click(function(a){a.preventDefault(),e(laroute.route("payment-processor.faucet",{paymentProcessorSlug:r,faucetSlug:t}))}),$("#random").click(function(t){t.preventDefault(),e(laroute.route("payment-processor.random-faucet",{paymentProcessorSlug:r}))})});