$(function(){function e(e){var a,r=$("#rotator-iframe"),u=$("#show-ajax-data-error-content"),o=$("#show-no-iframe-content");$.ajax(e,{success:function(e){r.attr("src",""),o.hide(),u.hide();var s=$("#edit-faucet-link");if(a=e.data.url,t=e.data.slug,!0===Boolean(e.data.can_show_in_iframes))r.show(),o.hide(),r.attr("src",a);else{if(r.hide(),o.find("#faucet-link").attr("href",a),o.find("#faucet-link").attr("title",'View "'+e.data.name+'" faucet in a new window'),void 0!==s){var c=laroute.route("faucets.edit",{slug:t});s.attr("href",c)}o.show()}var n=laroute.route("faucet.show",{slug:t});$("#current").attr("href",n)},error:function(e,t,a){if(void 0!==e.responseJSON.status&&"error"===e.responseJSON.status){r.hide(),o.hide();var s=$("#error-code"),c=$("#error-message"),n=$("#sentry-id");void 0!==s&&void 0!==c&&void 0!==n&&(s.text(e.responseJSON.code),c.text(e.responseJSON.message),n.text(e.responseJSON.sentryID),u.show())}}})}var t;e(laroute.route("faucets.first-faucet")),$("#first_faucet").click(function(t){t.preventDefault(),e(laroute.route("faucets.first-faucet"))}),$("#next_faucet").click(function(a){a.preventDefault(),e(laroute.route("faucets.next-faucet",{slug:t}))}),$("#previous_faucet").click(function(a){a.preventDefault(),e(laroute.route("faucets.previous-faucet",{slug:t}))}),$("#last_faucet").click(function(a){a.preventDefault(),e(laroute.route("faucets.last-faucet",{slug:t}))}),$("#reload_current").click(function(a){a.preventDefault(),e(laroute.route("faucets.show",{slug:t}))}),$("#random").click(function(t){t.preventDefault(),e(laroute.route("faucets.random-faucet"))})});