var currentFaucetSlug;$(function(){function e(t){var a,o=$("#rotator-iframe"),n=$("#show-ajax-data-error-content"),s=$("#show-no-iframe-content"),i=function(){$.ajax({url:t,timeout:5e3,success:function(t){o.attr("src",""),s.hide(),n.hide();var e=$("#edit-faucet-link");if(a=t.data.url,currentFaucetSlug=t.data.slug,!0===Boolean(t.data.can_show_in_iframes))o.show(),s.hide(),o.attr("src",a);else{if(o.hide(),s.find("#faucet-link").attr("href",a),s.find("#faucet-link").attr("title",'View "'+t.data.name+'" faucet in a new window'),void 0!==e){var u=laroute.route("faucets.edit",{slug:currentFaucetSlug});e.attr("href",u)}s.show()}var r=laroute.route("faucet.show",{slug:currentFaucetSlug});$("#current").attr("href",r)},error:function(t,e,u){var r=void 0!==u?u:"Error: "+u;if("timeout"===e||"timeout"===u||null!==t.responseJSON&&void 0!==t.responseJSON&&null!==t.responseJSON.status&&void 0!==t.responseJSON.status&&("3"===String(t.responseJSON.status).charAt(0)||"4"===String(t.responseJSON.status).charAt(0)||"5"===String(t.responseJSON.status).charAt(0))){o.hide(),s.hide();var a=$("#error-code"),c=$("#error-message");void 0!==a&&void 0!==c&&(a.text(e),c.text(r),n.show()),i()}}})};i()}e(laroute.route("faucets.first-faucet")),$("#first_faucet").click(function(t){t.preventDefault(),e(laroute.route("faucets.first-faucet"))}),$("#next_faucet").click(function(t){t.preventDefault(),e(laroute.route("faucets.next-faucet",{slug:currentFaucetSlug}))}),$("#previous_faucet").click(function(t){t.preventDefault(),e(laroute.route("faucets.previous-faucet",{slug:currentFaucetSlug}))}),$("#last_faucet").click(function(t){t.preventDefault(),e(laroute.route("faucets.last-faucet",{slug:currentFaucetSlug}))}),$("#reload_current").click(function(t){t.preventDefault(),e(laroute.route("faucets.show",{slug:currentFaucetSlug}))}),$("#random").click(function(t){t.preventDefault(),e(laroute.route("faucets.random-faucet"))})});