var currentFaucetSlug;$(function(){function t(t){var e,r=$("#rotator-iframe"),u=$("#show-ajax-data-error-content"),a=$("#show-no-iframe-content");$.ajax({url:t,timeout:5e3,success:function(t){r.attr("src",""),a.hide(),u.hide();var o=$("#edit-faucet-link");if(e=t.data.url,currentFaucetSlug=t.data.slug,!0===Boolean(t.data.can_show_in_iframes))r.show(),a.hide(),r.attr("src",e);else{if(r.hide(),a.find("#faucet-link").attr("href",e),a.find("#faucet-link").attr("title",'View "'+t.data.name+'" faucet in a new window'),void 0!==o){var c=laroute.route("faucets.edit",{slug:currentFaucetSlug});o.attr("href",c)}a.show()}var n=laroute.route("faucet.show",{slug:currentFaucetSlug});$("#current").attr("href",n)},error:function(t,e,o){console.log("Error thrown: "+o+", TextStatus: "+e);var c=void 0!==o?o:"Error: "+o;if(!("timeout"!==e&&"timeout"!==o&&(null===t.responseJSON&&void 0===t.responseJSON||null===t.responseJSON.status&&void 0===t.responseJSON.status||"3"!==String(t.responseJSON.status).charAt(0)&&"4"!==String(t.responseJSON.status).charAt(0)&&"5"!==String(t.responseJSON.status).charAt(0)))){r.hide(),a.hide();var n=$("#error-code"),s=$("#error-message");void 0!==n&&void 0!==s&&(n.text(e),s.text(c),u.show())}}})}t(laroute.route("faucets.first-faucet")),$("#first_faucet").click(function(e){e.preventDefault(),t(laroute.route("faucets.first-faucet"))}),$("#next_faucet").click(function(e){e.preventDefault(),t(laroute.route("faucets.next-faucet",{slug:currentFaucetSlug}))}),$("#previous_faucet").click(function(e){e.preventDefault(),t(laroute.route("faucets.previous-faucet",{slug:currentFaucetSlug}))}),$("#last_faucet").click(function(e){e.preventDefault(),t(laroute.route("faucets.last-faucet",{slug:currentFaucetSlug}))}),$("#reload_current").click(function(e){e.preventDefault(),t(laroute.route("faucets.show",{slug:currentFaucetSlug}))}),$("#random").click(function(e){e.preventDefault(),t(laroute.route("faucets.random-faucet"))})});