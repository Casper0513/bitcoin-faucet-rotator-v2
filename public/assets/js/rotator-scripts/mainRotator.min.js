var currentFaucetSlug;$(function(){function e(e){var t,r=$("#rotator-iframe"),u=$("#show-ajax-data-error-content"),a=$("#show-no-iframe-content");$.ajax(e,{success:function(e){r.attr("src",""),a.hide(),u.hide();var s=$("#edit-faucet-link");if(t=e.data.url,currentFaucetSlug=e.data.slug,!0===Boolean(e.data.can_show_in_iframes))r.show(),a.hide(),r.attr("src",t);else{if(r.hide(),a.find("#faucet-link").attr("href",t),a.find("#faucet-link").attr("title",'View "'+e.data.name+'" faucet in a new window'),void 0!==s){var n=laroute.route("faucets.edit",{slug:currentFaucetSlug});s.attr("href",n)}a.show()}var c=laroute.route("faucet.show",{slug:currentFaucetSlug});$("#current").attr("href",c)},error:function(e,t,s){if(null!==e.responseJSON&&void 0!==e.responseJSON&&"undefined"!==e.responseJSON.status&&null!==e.responseJSON.status&&("3"===String(e.responseJSON.status).charAt(0)||"4"===String(e.responseJSON.status).charAt(0)||"5"===String(e.responseJSON.status).charAt(0))){r.hide(),a.hide();var n=$("#error-code"),c=$("#error-message"),o=$("#sentry-id");void 0!==n&&void 0!==c&&void 0!==o&&(n.text(e.responseJSON.status),c.text(e.responseJSON.message),o.text(e.responseJSON.sentryID),u.show(),console.log("Error: "+e.responseJSON.status+", Message: "+e.responseJSON.message))}}})}e(laroute.route("faucets.first-faucet")),$("#first_faucet").click(function(t){t.preventDefault(),e(laroute.route("faucets.first-faucet"))}),$("#next_faucet").click(function(t){t.preventDefault(),e(laroute.route("faucets.next-faucet",{slug:currentFaucetSlug}))}),$("#previous_faucet").click(function(t){t.preventDefault(),e(laroute.route("faucets.previous-faucet",{slug:currentFaucetSlug}))}),$("#last_faucet").click(function(t){t.preventDefault(),e(laroute.route("faucets.last-faucet",{slug:currentFaucetSlug}))}),$("#reload_current").click(function(t){t.preventDefault(),e(laroute.route("faucets.show",{slug:currentFaucetSlug}))}),$("#random").click(function(t){t.preventDefault(),e(laroute.route("faucets.random-faucet"))})});