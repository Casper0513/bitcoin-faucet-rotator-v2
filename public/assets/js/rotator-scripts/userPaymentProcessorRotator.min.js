$(function(){function e(e){var s,a=$("#rotator-iframe"),o=$("#show-ajax-data-error-content"),n=$("#show-no-iframe-content");$.ajax(e,{success:function(e){a.attr("src",""),n.hide(),o.hide();var c=$("#edit-faucet-link");if(s=e.data.url,r=e.data.slug,!0===Boolean(e.data.can_show_in_iframes))a.show(),n.hide(),a.attr("src",s);else{if(a.hide(),n.find("#faucet-link").attr("href",s),n.find("#faucet-link").attr("title",'View "'+e.data.name+'" faucet in a new window'),void 0!==c){var l=laroute.route("users.faucets",{userSlug:u});c.attr("href",l)}n.show()}var f=laroute.route("users.faucets.show",{userSlug:u,faucetSlug:r});$("#current").attr("href",f);var i=laroute.route("users.payment-processors.faucets",{userSlug:u,paymentProcessorSlug:t});$("#list_of_faucets").attr("href",i)},error:function(e,r,t){if(null!==e.responseJSON.status&&void 0!==e.responseJSON.status&&"error"===e.responseJSON.status){a.hide(),n.hide();var u=$("#error-code"),s=$("#error-message"),c=$("#sentry-id");void 0!==u&&void 0!==s&&void 0!==c&&(u.text(e.responseJSON.code),s.text(e.responseJSON.message),c.text(e.responseJSON.sentryID),o.show())}}})}var r,t,u;t=$("#title").data("payment-processor-slug"),u=$("#title").data("user-slug"),e(laroute.route("user.payment-processor-first-faucet",{userSlug:u,paymentProcessorSlug:t})),$("#first_faucet").click(function(u){u.preventDefault(),e(laroute.route("user.payment-processor-first-faucet",{paymentProcessorSlug:t,faucetSlug:r}))}),$("#next_faucet").click(function(s){s.preventDefault(),e(laroute.route("user.payment-processor-next-faucet",{userSlug:u,paymentProcessorSlug:t,faucetSlug:r}))}),$("#previous_faucet").click(function(s){s.preventDefault(),e(laroute.route("user.payment-processor-previous-faucet",{userSlug:u,paymentProcessorSlug:t,faucetSlug:r}))}),$("#last_faucet").click(function(r){r.preventDefault(),e(laroute.route("user.payment-processor-last-faucet",{userSlug:u,paymentProcessorSlug:t}))}),$("#reload_current").click(function(s){s.preventDefault(),e(laroute.route("user.payment-processor-faucet",{userSlug:u,paymentProcessorSlug:t,faucetSlug:r}))}),$("#random").click(function(r){r.preventDefault(),e(laroute.route("user.payment-processor-random-faucet",{userSlug:u,paymentProcessorSlug:t}))})});