$(function(){var l,f,i;function r(e){var a,o=$("#rotator-iframe"),n=$("#show-ajax-data-error-content"),c=$("#show-no-iframe-content");$.ajax(e,{success:function(e){o.attr("src",""),c.hide(),n.hide();var r=$("#edit-faucet-link");if(a=e.data.url,l=e.data.slug,!0===Boolean(e.data.can_show_in_iframes))o.show(),c.hide(),o.attr("src",a);else{if(o.hide(),c.find("#faucet-link").attr("href",a),c.find("#faucet-link").attr("title",'View "'+e.data.name+'" faucet in a new window'),void 0!==r){var t=laroute.route("users.faucets",{userSlug:i});r.attr("href",t)}c.show()}var u=laroute.route("users.faucets.show",{userSlug:i,faucetSlug:l});$("#current").attr("href",u);var s=laroute.route("users.payment-processors.faucets",{userSlug:i,paymentProcessorSlug:f});$("#list_of_faucets").attr("href",s)},error:function(e,r,t){if(null!==e.responseJSON.status&&void 0!==e.responseJSON.status&&"error"===e.responseJSON.status){o.hide(),c.hide();var u=$("#error-code"),s=$("#error-message"),a=$("#sentry-id");void 0!==u&&void 0!==s&&void 0!==a&&(u.text(e.responseJSON.code),s.text(e.responseJSON.message),a.text(e.responseJSON.sentryID),n.show())}}})}f=$("#title").data("payment-processor-slug"),i=$("#title").data("user-slug"),r(laroute.route("user.payment-processor-first-faucet",{userSlug:i,paymentProcessorSlug:f})),$("#first_faucet").click(function(e){e.preventDefault(),r(laroute.route("user.payment-processor-first-faucet",{paymentProcessorSlug:f,faucetSlug:l}))}),$("#next_faucet").click(function(e){e.preventDefault(),r(laroute.route("user.payment-processor-next-faucet",{userSlug:i,paymentProcessorSlug:f,faucetSlug:l}))}),$("#previous_faucet").click(function(e){e.preventDefault(),r(laroute.route("user.payment-processor-previous-faucet",{userSlug:i,paymentProcessorSlug:f,faucetSlug:l}))}),$("#last_faucet").click(function(e){e.preventDefault(),r(laroute.route("user.payment-processor-last-faucet",{userSlug:i,paymentProcessorSlug:f}))}),$("#reload_current").click(function(e){e.preventDefault(),r(laroute.route("user.payment-processor-faucet",{userSlug:i,paymentProcessorSlug:f,faucetSlug:l}))}),$("#random").click(function(e){e.preventDefault(),r(laroute.route("user.payment-processor-random-faucet",{userSlug:i,paymentProcessorSlug:f}))})});