function generateVisitorsTable(e,t){void 0!==e&&void 0!==t&&$(t).DataTable({data:e,order:[[2,"desc"],[3,"desc"],[4,"desc"],[5,"desc"],[6,"desc"],[7,"asc"],[8,"desc"]],columns:[{data:"url"},{data:"pageTitle"},{data:"uniqueVisitors",type:"num",render:{_:"display",sort:"original"}},{data:"pageViews",type:"num",render:{_:"display",sort:"original"}},{data:"uniquePageViews",type:"num",render:{_:"display",sort:"original"}},{data:"aveSessionDuration",type:"num",render:{_:"display",sort:"original"}},{data:"aveTimeOnPage",type:"num",render:{_:"display",sort:"original"}},{data:"noOfBounces",type:"num",render:{_:"display",sort:"original"}},{data:"noOfCountries"}],responsive:!0})}function generateVisitorsLineChart(e,t){var a=getRandomRgb(),r=getRandomRgb();if(void 0!==e&&void 0!==t){var o=document.getElementById(t).getContext("2d"),i=[],n=[],s=[];e.forEach(function(e){i.push(new Date(e.date).formatDDMMYYYY()),n.push(parseInt(e.visitors)),s.push(parseInt(e.pageViews))});var d={type:"line",data:{labels:i,datasets:[{label:"Visitors",borderColor:rgbaString(a.r,a.g,a.b),backgroundColor:rgbaString(a.r,a.g,a.b,.5),data:n},{label:"Page views",borderColor:rgbaString(r.r,r.g,r.b),backgroundColor:rgbaString(r.r,r.g,r.b,.5),data:s}]},options:{showScale:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.8,pointDot:!1,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,maintainAspectRatio:!0,responsive:!0,tooltips:{mode:"index",intersect:!1,callbacks:{label:function(e,t){return 0===e.datasetIndex?"Visitors: "+e.yLabel.toString():1===e.datasetIndex?"Page Views: "+e.yLabel.toString():void 0}}},scales:{yAxes:[{scaleLabel:{display:!0,labelString:"Number of Visitors / Page Views"}}],xAxes:[{scaleLabel:{display:!0,labelString:"Date"}}]}}};return new Chart(o,d)}}function getVisitorsDataAjax(e,t,a,r){if(void 0===r&&(r=10),void 0!==e&&void 0!==t&&void 0!==a){var o=laroute.route(e,{dateFrom:t,dateTo:a,quantity:r});return void 0===o?null:$.get(o,function(e){return e.data}).promise()}return null}function getBrowserStatsAjax(e,t,a){if(void 0===a&&(a=10),void 0!==e&&void 0!==t){var r=laroute.route("stats.top-x-browsers",{dateFrom:e,dateTo:t,maxBrowsers:a});return $.get(r,function(e){return e.data}).promise()}return null}function generatePieDonutChart(e,t){if(void 0!==e&&void 0!==t){var a;if("."===t.charAt(0))a=document.getElementsByClassName(t.substr(1))[0];else{if("#"!==t.charAt(0))return console.log("Pie chart element is not correctly defined."),null;a=document.getElementById(t.substr(1))}var r=a.getContext("2d"),o={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,responsive:!0,maintainAspectRatio:!0},i=[],n=[],s=[];return e.forEach(function(e){n.push(e.browser),s.push(parseInt(e.sessions)),i.push(getRandomHexColor())}),new Chart(r,{type:"doughnut",data:{labels:n,datasets:[{backgroundColor:i,data:s}],options:o}})}}Date.prototype.formatDDMMYYYY=function(){return this.getDate()+"/"+(this.getMonth()+1)+"/"+this.getFullYear()};