function generateVisitorsTable(e){void 0!==e&&$("#visitorsTable").DataTable({data:e,order:[[2,"desc"],[3,"desc"],[4,"desc"],[5,"desc"],[6,"desc"],[7,"asc"],[8,"desc"]],columns:[{data:"url"},{data:"pageTitle"},{data:"uniqueVisitors",type:"num",render:{_:"display",sort:"original"}},{data:"pageViews",type:"num",render:{_:"display",sort:"original"}},{data:"uniquePageViews",type:"num",render:{_:"display",sort:"original"}},{data:"aveSessionDuration",type:"num",render:{_:"display",sort:"original"}},{data:"aveTimeOnPage",type:"num",render:{_:"display",sort:"original"}},{data:"noOfBounces",type:"num",render:{_:"display",sort:"original"}},{data:"noOfCountries"}],responsive:!0})}function generateVisitorsLineChart(e,t){var a=getRandomRgb(),i=getRandomRgb();if(void 0!==e&&void 0!==t){var r=document.getElementById(t).getContext("2d"),o=[],n=[],s=[];e.forEach(function(e){o.push(new Date(e.date).formatDDMMYYYY()),n.push(parseInt(e.visitors)),s.push(parseInt(e.pageViews))});var d={type:"line",data:{labels:o,datasets:[{label:"Visitors",borderColor:rgbaString(a.r,a.g,a.b),backgroundColor:rgbaString(a.r,a.g,a.b,.5),data:n},{label:"Page views",borderColor:rgbaString(i.r,i.g,i.b),backgroundColor:rgbaString(i.r,i.g,i.b,.5),data:s}]},options:{showScale:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.8,pointDot:!1,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,maintainAspectRatio:!0,responsive:!0,tooltips:{mode:"index",intersect:!1,callbacks:{label:function(e,t){return 0===e.datasetIndex?"Visitors: "+e.yLabel.toString():1===e.datasetIndex?"Page Views: "+e.yLabel.toString():void 0}}},scales:{yAxes:[{scaleLabel:{display:!0,labelString:"Number of Visitors / Page Views"}}],xAxes:[{scaleLabel:{display:!0,labelString:"Date"}}]}}};return new Chart(r,d)}}function getVisitorsDataAjax(e,t,a,i){if(void 0===i&&(i=10),void 0!==e&&void 0!==t&&void 0!==a){var r=laroute.route(e,{dateFrom:t,dateTo:a,quantity:i});return void 0===r?null:$.get(r,function(e){return e.data}).promise()}return null}Date.prototype.formatDDMMYYYY=function(){return this.getDate()+"/"+(this.getMonth()+1)+"/"+this.getFullYear()};